<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0055)http://www.sergiy.ca/how-to-iterate-over-a-map-in-java/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>How to Iterate Over a Map in Java</title><meta name="description" content="There are several ways of iterating over a Map in Java. Lets go over the most common methods and review their advantages and disadvantages. Since all maps in Java implement Map interface, following techniques will work for any map implementation (HashMap, TreeMap, LinkedHashMap, Hashtable, etc.)"><meta name="keywords" content="java, php, mysql"><meta name="verify-v1" content="3HPh9UrCRKDP0dHzX0pClkIMqQScOwFBlwTTJ6t/8RA="><link rel="stylesheet" type="text/css" href="./How to Iterate Over a Map in Java_files/css.css"><link href="./How to Iterate Over a Map in Java_files/prettify.css" type="text/css" rel="stylesheet"></head><body><table id="header"><tbody><tr><td></td><td class="header-center"><div class="header-title"><h1><a href="http://www.sergiy.ca/">Random Programming Notes from a Web Developer</a></h1><span>by Sergiy Kovalchuk</span></div></td><td></td></tr></tbody></table><div id="base">			
			<div id="main">
				
				<div class="article">
					<h2><a href="./How to Iterate Over a Map in Java_files/How to Iterate Over a Map in Java.htm">How to Iterate Over a Map in Java</a></h2>
					<div class="separator"><img src="./How to Iterate Over a Map in Java_files/empty.gif" width="1" height="1"></div>
											<div class="tags">
																						<span>Java</span>
								
						</div>
										<p>There are several ways of iterating over a <code>Map</code> in Java. Lets go over the most common methods and review their advantages and disadvantages. Since all maps in Java implement <code>Map</code> interface, following techniques will work for any map implementation (<code>HashMap</code>, <code>TreeMap</code>, <code>LinkedHashMap</code>, <code>Hashtable</code>, etc.)</p>

<h3>Method #1: Iterating over entries using For-Each loop.</h3>

<p>This is the most common method and is preferable in most cases. Should be used if you need both map keys and values in the loop.</p>

<pre class="lang-java prettyprint"><code><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;();</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Map</span><span class="pun">.</span><span class="typ">Entry</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> entry </span><span class="pun">:</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">entrySet</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Key = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> entry</span><span class="pun">.</span><span class="pln">getKey</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">", Value = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> entry</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>Note that For-Each loop was introduced in Java 5 so this method is working only in newer versions of the language. Also For-Each loop will throw <code>NullPointerException</code> if you try to iterate over a map that is <code>null</code>, so before iterating you should always check for <code>null</code> references.</p>

<h3>Method #2: Iterating over keys or values using For-Each loop.</h3>

<p>If you need only keys or values from the map, you can iterate over <code>keySet</code> or <code>values</code> instead of <code>entrySet</code>.</p>

<pre class="lang-java prettyprint"><code><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;();</span><span class="pln"><br><br></span><span class="com">//iterating over keys only</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> key </span><span class="pun">:</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">keySet</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Key = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> key</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">//iterating over values only</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> value </span><span class="pun">:</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">values</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Value = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> value</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>This method gives slight performance advantage over <code>entrySet</code> iteration (about 10% faster) and is more clean.</p>

<h3>Method #3: Iterating using <code>Iterator</code>.</h3>

<p>Using Generics:</p>

<pre class="lang-java prettyprint"><code><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;();</span><span class="pln"><br></span><span class="typ">Iterator</span><span class="pun">&lt;</span><span class="typ">Map</span><span class="pun">.</span><span class="typ">Entry</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;&gt;</span><span class="pln"> entries </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">entrySet</span><span class="pun">().</span><span class="pln">iterator</span><span class="pun">();</span><span class="pln"><br></span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">entries</span><span class="pun">.</span><span class="pln">hasNext</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Map</span><span class="pun">.</span><span class="typ">Entry</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> entry </span><span class="pun">=</span><span class="pln"> entries</span><span class="pun">.</span><span class="pln">next</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Key = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> entry</span><span class="pun">.</span><span class="pln">getKey</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">", Value = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> entry</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>Without Generics:</p>

<pre class="lang-java prettyprint"><code><span class="typ">Map</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">();</span><span class="pln"><br></span><span class="typ">Iterator</span><span class="pln"> entries </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">entrySet</span><span class="pun">().</span><span class="pln">iterator</span><span class="pun">();</span><span class="pln"><br></span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">entries</span><span class="pun">.</span><span class="pln">hasNext</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Map</span><span class="pun">.</span><span class="typ">Entry</span><span class="pln"> entry </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Map</span><span class="pun">.</span><span class="typ">Entry</span><span class="pun">)</span><span class="pln"> entries</span><span class="pun">.</span><span class="pln">next</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Integer</span><span class="pln"> key </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Integer</span><span class="pun">)</span><span class="pln">entry</span><span class="pun">.</span><span class="pln">getKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Integer</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Integer</span><span class="pun">)</span><span class="pln">entry</span><span class="pun">.</span><span class="pln">getValue</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Key = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> key </span><span class="pun">+</span><span class="pln"> </span><span class="str">", Value = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> value</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>You can also use same technique to iterate over <code>keySet</code> or <code>values</code>.</p>

<p>This method might look redundant but it has its own advantages. First of all it is the only way to iterate over a map in older versions of Java. The other important feature is that it is the only method that allows you to <em>remove</em> entries from the map during iteration by calling <code>iterator.remove()</code>. If you try to do this during For-Each iteration you will get "unpredictable results" according to javadoc.</p>

<p>From performance point of view this method is equal to For-Each iteration.</p>

<h3>Method #4: Iterating over keys and searching for values (inefficient).</h3>

<pre class="lang-java prettyprint"><code><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;();</span><span class="pln"><br></span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> key </span><span class="pun">:</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">keySet</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Integer</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="pln">key</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">System</span><span class="pun">.</span><span class="pln">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="str">"Key = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> key </span><span class="pun">+</span><span class="pln"> </span><span class="str">", Value = "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> value</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>This might look like a cleaner alternative for method #1 but in practice it is pretty slow and inefficient as getting values by a key might be time consuming (this method in different <code>Map</code> implementations is 20%-200% slower than method #1). If you have <a href="http://findbugs.sourceforge.net/">FindBugs</a>  installed, it will detect this and warn you about inefficient iteration. This method should be avoided.</p>

<h3>Conclusion</h3>

<p>If you need only keys or values from the map use method #2. If you are stuck with older version of Java (less than 5) or planning to remove entries during iteration you have to use method #3. Otherwise use method #1.</p>
					<div class="date">Aug  8, 2009</div>
				</div>
						
				
				
			</div>
				
<div id="sidecol"><ul class="menu-list"><li><a href="http://www.sergiy.ca/">Home</a></li></ul><div class="menu-title">Latest Articles</div><ul class="bullet-list"><li><a href="http://www.sergiy.ca/how-to-implement-facebook-oauth-2.0-app-authorization-process-in-java/">How to Implement Facebook App Authorization in Java</a></li><li><a href="http://www.sergiy.ca/how-to-compile-and-launch-java-code-from-command-line/">How to Compile and Run Java Code from a Command Line</a></li><li><a href="http://www.sergiy.ca/post-on-facebook-app-wall-and-fan-page-wall-as-admin/">How to Post on App Wall as Admin from Facebook API</a></li><li><a href="http://www.sergiy.ca/how-to-make-java-md5-and-sha-1-hashes-compatible-with-php-or-mysql/">How to Make Java MD5 Match PHP and MySQL MD5</a></li><li><a href="http://www.sergiy.ca/how-to-create-custom-directives-for-apache-velocity/">Creating Custom Directives for Apache Velocity</a></li><li><a href="http://www.sergiy.ca/how-to-create-custom-tools-for-apache-velocity/">Creating Custom Tools for Apache Velocity</a></li><li><a href="http://www.sergiy.ca/how-to-force-build-with-fixme-blocks-to-fail-in-ant/">How to Force Build With FIXME Blocks to Fail in Ant</a></li><li><a href="http://www.sergiy.ca/how-to-integrate-velocity-tools-2-0-with-spring/">How to Integrate Velocity Tools 2.0 with Spring</a></li><li><a href="http://www.sergiy.ca/how-to-write-many-to-many-search-queries-in-mysql-and-hibernate/">How to Write Many-To-Many Search Queries in MySQL and Hibernate</a></li><li><a href="http://www.sergiy.ca/guide-to-selecting-appropriate-map-collection-in-java/">Guide to Selecting Appropriate Map/Collection in Java</a></li><li><a href="./How to Iterate Over a Map in Java_files/How to Iterate Over a Map in Java.htm">How to Iterate Over a Map in Java</a></li></ul><div class="menu-title">My Open Source Projects</div><ul class="bullet-list"><li><a href="http://code.google.com/p/htmlcompressor/">HTML Compressor and Minifier</a></li><li><a href="http://code.google.com/p/jquery-loadmask/">jQuery Loadmask Plugin</a></li><li><a href="http://code.google.com/p/chrome-textarea-formatter/">Chrome Textarea Formatter</a></li></ul><div class="menu-title">My Chrome Extensions</div><ul class="bullet-list"><li><a href="https://chrome.google.com/webstore/detail/bbamfloeabgknfklmgbpjcgofcokhpia">WebStore Inspector</a></li><li><a href="https://chrome.google.com/webstore/detail/abefhanahjellfbchdmkjdcchkogijhk">jQuery Api Browser</a></li><li><a href="https://chrome.google.com/webstore/detail/knnjokagadbonknppgkjgjpiolcijbmg">View Background Image</a></li><li><a href="https://chrome.google.com/webstore/detail/plfbafagepmnjfhgoaakiobjffddcnbd">Chrome Update Notifier</a></li><li><a href="https://chrome.google.com/webstore/search?category=ext&q=serg472">and a bunch of others...</a></li></ul><div class="menu-title">StackOverflow Profile</div><a style="margin-top:5px;float:left;" href="http://stackoverflow.com/users/20128/serg"><img src="./How to Iterate Over a Map in Java_files/20128.png" width="208" height="58" alt="profile for serg at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for serg at Stack Overflow, Q&amp;A for professional and enthusiast programmers"></a></div>			<div id="footer"><div class="separator"><img src="./How to Iterate Over a Map in Java_files/empty.gif" width="1" height="1"></div><div class="copyright">Â© 2011 Sergiy Kovalchuk | <a href="mailto:serg472@gmail.com">Contact</a></div><div style="color:white;font-size:11px;">0.01525</div></div></div><script type="text/javascript" src="./How to Iterate Over a Map in Java_files/jquery.js"></script><script type="text/javascript" src="./How to Iterate Over a Map in Java_files/prettify.js"></script><script type="text/javascript" src="./How to Iterate Over a Map in Java_files/lang-sql.js"></script><script type="text/javascript" src="./How to Iterate Over a Map in Java_files/general.js"></script>		
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./How to Iterate Over a Map in Java_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-146863-5");
pageTracker._trackPageview();
} catch(err) {}</script>		
</body></html>